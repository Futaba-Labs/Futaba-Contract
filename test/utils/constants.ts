import { callbackify } from "util"
import fs from "fs";
import { QueryType } from "../../typechain-types/contracts/Gateway";
import { BigNumber } from "ethers";
import { keccak256 } from "ethers/lib/utils";
import PROOF from "./proof.json"

export const ZERO_ADDRESS = "0x0000000000000000000000000000000000000000"

export const TEST_CALLBACK_ADDRESS = "0x326C977E6efc84E512bB9C30f76E30c160eD06FB"

export const TEST_LIGHT_CLIENT_ADDRESS = "0x9eaD03F7136Fc6b4bDb0780B00a1c14aE5A8B6d0"

export const SRC = "0x779877A7B0D9E8603169DdbD7836e478b4624789"

export const HEIGTH = 3218047

export const DSTCHAINID = 11155111

export const SRC_GOERLI = "0x7d45603aB65507E964B487B1c4875190fE2c6e08"

export const HEIGTH_GOERLI = 8669610

export const DSTCHAINID_GOERLI = 5

export const JOB_ID = "af037e503e964dd2a1d3cb0c715f945b"

export const MESSAGE = "0x0000000000000000000000001AAAEB006AC4DE12C4630BB44ED00A764F37BEF80000000000000000000000000000000000000000000000000000000000000040000000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000060000000000000000000000000000000000000000000000000000000000000006"

export const SOURCE = fs.readFileSync("./Functions-request-source.js").toString()

export const SAMPLEQUERIES: QueryType.QueryRequestStruct[] = [{ dstChainId: DSTCHAINID, to: SRC, height: HEIGTH, slot: keccak256(BigNumber.from(0).toHexString()) }]


// "1,11155111,3218047,28929221138701702333349693459588067034223576299147260185071209604678961206070,"(lenght, dstChainId, height, root)
export const SAMPLE_RESPONSE = "0x22312c31313135353131312c333231383034372c32383932393232313133383730313730323333333334393639333435393538383036373033343232333537363239393134373236303138353037313230393630343637383936313230363037302c22"

// [{ dstChainId: 5, height: 8669610, root: '0xa0ea6371df370faaaff504af4e98b19111e36038d554bdc3c9dbe345cb8a2962'}]
export const SAMPLE_RESPONSE_FOR_NODE = "0x00000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000500000000000000000000000000000000000000000000000000000000008449aaa0ea6371df370faaaff504af4e98b19111e36038d554bdc3c9dbe345cb8a2962"

export const ACCOUNT_PROOF = {
  root: '0xa0ea6371df370faaaff504af4e98b19111e36038d554bdc3c9dbe345cb8a2962',
  account: '0xA2025B15a1757311bfD68cb14eaeFCc237AF5b43',
  proof: PROOF["account_proof"]
}

export const STORAGE_PROOF = {
  root: '0x43e01d12f63631cd15a7ffb24db3e97d162b0e8200dfe1f731f2656ee1551345',
  path: '0x2cc437d98674a0b2b3c157dd747ad36fd3a3d188fad2a434e1300ef7ebabd265',
  proof: PROOF["storage_proof"]
}

export const ZERO_VALUE_STORAGE_PROOF = {
  root: '0x43e01d12f63631cd15a7ffb24db3e97d162b0e8200dfe1f731f2656ee1551345',
  path: '0xbd3b9c89b21d583087d047e7c69e4b2f53c140afe0ea26ffa1606052890d3d45',
  proof: PROOF["zero_storage_proof"]
}

export const SINGLE_VALUE_PROOF = {
  queries: [{ dstChainId: DSTCHAINID_GOERLI, to: SRC, height: HEIGTH_GOERLI, slot: '0x0000000000000000000000000000000000000000000000000000000000000000' }],
  proof: PROOF["single_value_proof"],
  results: ["0x000000000000000000001aaaeb006ac4de12c4630bb44ed00a764f37bef80003"]
}

export const MULTI_VALUE_PROOF = {
  queries: [{ dstChainId: DSTCHAINID_GOERLI, to: "0xA2025B15a1757311bfD68cb14eaeFCc237AF5b43", height: HEIGTH_GOERLI, slot: '0x2cc437d98674a0b2b3c157dd747ad36fd3a3d188fad2a434e1300ef7ebabd265' }, { dstChainId: DSTCHAINID_GOERLI, to: "0xA2025B15a1757311bfD68cb14eaeFCc237AF5b43", height: HEIGTH_GOERLI, slot: '0x69aeb288645ac3672c64455e7fedb7ec256bf654e79ea5e5e5f2dcefdba95dcd' }],
  proof: PROOF["multi_value_proof"],
  results: ["0x000000000000000000000000000000000000000000000000000000001dcd6500",
    "0x0000000000000000000000000000000000000000000000000000000ab1b0635a"]
}

export const GREATER_THAN_32BYTES_PROOF = {
  queries: [{ dstChainId: DSTCHAINID_GOERLI, to: SRC, height: HEIGTH_GOERLI, slot: '0x00f231c931d6d450c35afbf3929cc94acadb4734d3d477381ce491665820a759' }],
  proof: PROOF["greater_than_32bytes_proof"],
  results: ["0x000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000002c254686520323032302f32312063727970746f206d61726b6574206379636c65207461756768742075732061207375627374616e7469616c20616d6f756e742061626f757420746865206265686176696f7572206f66206e6577206d61726b657420656e7472616e747320616e6420746865697220696e636c696e6174696f6e20746f207075727375652061206c6f77207472616e73616374696f6e2066656520656e7669726f6e6d656e7420697272657370656374697665206f662074686520756e6465726c79696e67206e6574776f726b7320646563656e7472616c69736174696f6e2e20457468657265756de280997320756e6465726c79696e67206c617965722d3120626c6f636b73706163652070726f76656420746f20626520696e73756666696369656e7420746f206163636f6d6d6f646174652074686520696e666c7578206f66206e6577206d61726b6574207061727469636970616e747320656167657220746f2073706563756c6174652e20546865207363617263697479206f6620626c6f636b737061636520726573756c746564207468652070657273697374656e7420656c65766174696f6e206f66206761732066656573207768696368207072696365206f7574207468652061766572616765206d61726b6574207061727469636970616e742066726f6d2073706563756c6174697665206f6e2d636861696e2061637469766974792e20546869732077617320746865207072696d61727920726561736f6e20666f722074686520666c69676874206f66206f6e2d636861696e2073706563756c6174696f6e20616e642054564c2066726f6d2074686520457468657265756d20626c6f636b636861696e20746f206f74686572206e6574776f726b7320737563682061732042696e616e636520536d61727420436861696e2028425343292c20536f6c616e6120616e64204176616c616e6368652e000000000000000000000000000000000000000000000000000000000000"]
}


export const MULTI_QUERY_PROOF = PROOF["greater_than_32bytes_proof"]

export const PROOF_FOR_FUNCTIONS = PROOF["proof_for_functions"]